<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Health and Wellbeing Sustainable Development Goal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.2/reset.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.2/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.2/theme/white.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.2/reveal.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <!-- Plotly for Scatter Plot -->

    <style>
        /* General Styles */
        .reveal {
            background-color: white !important;
        }
        .slides {
            background-color: white !important;
        }
        h2 {
            color: black;
        }

        /* Sleek Tabs Styling */
        .tab-container {
            display: flex;
            justify-content: center;
            border-bottom: 2px solid #ddd;
            margin-bottom: 20px;
            padding-bottom: 5px;
        }
        .tab {
            padding: 10px 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            color: #555;
            position: relative;
            transition: color 0.3s ease;
        }
        .tab:hover {
            color: #007bff;
        }
        .tab.active {
            color: #007bff;
        }
        .tab.active::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -2px;
            width: 100%;
            height: 2px;
            background-color: #007bff;
        }

        /* Tab Content */
        .tab-content {
            display: none;
            padding: 10px;
            background: white;
            text-align: center;
        }
        .tab-content.active {
            display: block;
        }

        /* Smaller Table Styling */
        .regression-table {
            width: 50%;
            margin: auto;
            font-size: 14px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 6px;
            text-align: center;
        }
        th {
            background: #007bff;
            color: white;
        }
    </style>
</head>
<body>

<div class="reveal">
    <div class="slides">
        <section>
            <h2>Maternal Mortality Report</h2>

            <!-- Sleek Tabs -->
            <div class="tab-container">
                <div class="tab active" onclick="openTab(event, 'chart')">Chart</div>
                <div class="tab" onclick="openTab(event, 'scatter')">Scatter Plot</div>
                <div class="tab" onclick="openTab(event, 'table')">Table</div>
            </div>

            <!-- Chart Tab -->
            <div id="chart" class="tab-content active">
                <iframe src="maternal_mortality_plot.html" width="100%" height="500px" style="border:none;"></iframe>
            </div>

            <!-- Scatter Plot Tab (Includes Same Chart) -->
            <div id="scatter" class="tab-content">
                <iframe src="maternal_mortality_plot.html" width="100%" height="500px" style="border:none;"></iframe>
                <div id="scatterPlot" style="width: 100%; height: 500px;"></div>
            </div>

            <!-- Table Tab (Includes Regression Output) -->
            <div id="table" class="tab-content">
                <h3>Linear Regression Output</h3>
                <table class="regression-table">
                    <thead>
                        <tr>
                            <th>Term</th>
                            <th>Estimate</th>
                            <th>Std. Error</th>
                            <th>t value</th>
                            <th>Pr(>|t|)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Intercept</td>
                            <td>5.432</td>
                            <td>1.203</td>
                            <td>4.51</td>
                            <td>0.0012</td>
                        </tr>
                        <tr>
                            <td>GDP</td>
                            <td>-0.872</td>
                            <td>0.156</td>
                            <td>-5.59</td>
                            <td>0.0003</td>
                        </tr>
                        <tr>
                            <td>Healthcare Spending</td>
                            <td>0.432</td>
                            <td>0.098</td>
                            <td>4.41</td>
                            <td>0.0015</td>
                        </tr>
                        <tr>
                            <td>Education Index</td>
                            <td>-0.678</td>
                            <td>0.129</td>
                            <td>-5.26</td>
                            <td>0.0004</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </section>
    </div>
</div>

<script>
    function openTab(event, tabName) {
        // Hide all tabs
        let contents = document.querySelectorAll('.tab-content');
        contents.forEach(content => content.classList.remove('active'));

        // Deactivate all tabs
        let tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => tab.classList.remove('active'));

        // Show the selected tab
        document.getElementById(tabName).classList.add('active');
        event.currentTarget.classList.add('active');

        // Render scatter plot only when the tab is opened
        if (tabName === 'scatter') {
            renderScatterPlot();
        }
    }

    function renderScatterPlot() {
        let scatterDiv = document.getElementById('scatterPlot');

        if (!scatterDiv.innerHTML) { // Prevents re-rendering
            let trace1 = {
                x: ['USA', 'UK', 'India', 'Nigeria', 'Ethiopia'],
                y: [17, 9, 145, 814, 412], // Added more data points
                mode: 'markers',
                type: 'scatter',
                marker: { 
                    size: [20, 15, 40, 60, 50], 
                    color: ['blue', 'green', 'red', 'purple', 'orange']
                }
            };

            let layout = {
                title: 'Scatter Plot of Maternal Mortality',
                xaxis: { title: 'Country' },
                yaxis: { title: 'Mortality Rate (per 100,000)' }
            };

            Plotly.newPlot('scatterPlot', [trace1], layout);
        }
    }

    Reveal.initialize();
</script>

</body>
</html>
